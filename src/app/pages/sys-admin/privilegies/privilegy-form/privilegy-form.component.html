<div class="col-12">
  <mat-accordion>
    <mat-expansion-panel expanded="{{panelOpenState}}" (opened)="panelOpenState = true"
      (closed)="panelOpenState = false">
      <mat-expansion-panel-header>
        <mat-panel-title>
          <div class="text-center col-12 h5">
            {{'PRIVILEGY_FORM.PRIVILEGYINFO' | translate}}
          </div>
        </mat-panel-title>
      </mat-expansion-panel-header>

      <form class="col-12" ngClass="{{privilegyInfoForm.valid ? 'needs-validated' :'was-validated' }}"
        [formGroup]="privilegyInfoForm" (ngSubmit)="onSubmit()" novalidate>
        <h1 mat-card-title style="color: white;" class="text-center">{{"PRIVILEGY_FORM.PRIVILEGYINFO"| translate}}</h1>

        <div class="col-12 row text-center">

          <div class="form-group col-md-12 ">
            <label>{{'PRIVILEGY_FORM.COMPANY'|translate}}</label>
            <h2 class="pb-0" matInput>{{getCompany()}}</h2>
          </div>
        </div>

        <hr>

        <div class="col-12 row text-start">
          <div *ngIf="mode ==='edit'" class="form-group col-md-3">
            <label>{{'PRIVILEGY_FORM.PRIVILEGY'|translate}}</label>
            <input class="form-control " formControlName="idPrivilegy" (blur)="existPrivilegy()" matInput
              placeholder="{{'PRIVILEGY_FORM.PRIVILEGY'|translate}}">
            <div class="invalid-feedback">
              {{"PRIVILEGY_FORM.PRIVILEGY_REQUIRED"|translate}}
            </div>
            <div *ngIf="existPrivilegyFlag" style="font-size: .875em;" class="text-danger">
              {{"PRIVILEGY_FORM.PRIVILEGY_EXIST" | translate}}
            </div>
          </div>
          <div class="form-group col-md-3">
            <label>{{ 'PRIVILEGY_FORM.AUTHORITY' | translate }}</label>
            <app-role-selector (rolesSelected)="onRoleSelected($event)" [selectedAuthority]="privilegy?.authority"
              [ngClass]="mode ==='edit'?'disabled_country_selector' : ''" matInput required
              readonly></app-role-selector>
            <div class="invalid-feedback">
              {{ 'PRIVILEGY_FORM.AUTHORITY_INVALID' | translate }}
            </div>
          </div>
          <div class="form-group col-md-3">
            <label>{{ 'PRIVILEGY_FORM.SCREEN' | translate }}</label>
            <app-screen-selector (screenSelected)="onScreenSelected($event)" [selectedScreen]="privilegy?.idScreen"
              [ngClass]="mode ==='edit'?'disabled_country_selector' : ''" matInput required
              readonly></app-screen-selector>
            <div class="invalid-feedback">
              {{ 'PRIVILEGY_FORM.SCREEN_INVALID' | translate }}
            </div>
          </div>
           <div class="form-group col-md-3">
            <label>{{ 'PRIVILEGY_FORM.ACTION' | translate }}</label>
            <app-action-selector (actionSelected)="onActionSelected($event)" [selectedAction]="privilegy?.idAction"
              [ngClass]="mode ==='edit'?'disabled_country_selector' : ''" matInput required
              readonly></app-action-selector>
            <div class="invalid-feedback">
              {{ 'PRIVILEGY_FORM.ACTION_INVALID' | translate }}
            </div>
          </div>
           <div class="form-group col-md-3">
            <label>{{ 'PRIVILEGY_FORM.GRUPO' | translate }}</label>
            <app-group-selector (groupSelected)="onGrupoSelected($event)" [selectedGroup]="privilegy?.idGrupo"
              [ngClass]="mode ==='edit'?'disabled_country_selector' : ''" matInput required
              readonly></app-group-selector>
            <div class="invalid-feedback">
              {{ 'PRIVILEGY_FORM.GRUPO_INVALID' | translate }}
            </div>
          </div>
         
          <!-- <div *ngIf="mode ==='edit'" class="form-group col-md-3">
            <label>{{'PRIVILEGY_FORM.ORDER'|translate}}</label>
            <input class="form-control " formControlName="order" matInput
              placeholder="{{'PRIVILEGY_FORM.ORDER'|translate}}">
            <div class="invalid-feedback">
              {{"PRIVILEGY_FORM.ORDER"|translate}}
            </div>
          </div> -->
        </div>
        <hr>
        <div class="col-12 row text-start">
          <!-- <div class="form-group col-md-3">
            <label>{{'PRIVILEGY_FORM.REDIRECT_TO'|translate}}</label>
            <input class="form-control" formControlName="redirectTo" matInput
              placeholder="{{'PRIVILEGY_FORM.REDIRECT_TO'|translate}}" required>
            <div class="invalid-feedback">
              {{"PRIVILEGY_FORM.REDIRECT_TO_REQUIRED"|translate}}
            </div>
          </div> -->
          <!-- <div class="form-group col-md-3">
            <label>{{'PRIVILEGY_FORM.PATH_MATCH'|translate}}</label>
            <input class="form-control" formControlName="pathMatch" matInput
              placeholder="{{'PRIVILEGY_FORM.PATH_MATCH'|translate}}" required>
            <div class="invalid-feedback">
              {{"PRIVILEGY_FORM.PATH_MATCH_REQUIRED"|translate}}
            </div>
          </div> -->

   

        </div>
        <hr>
        <div class="col-12 row text-start">

          <!-- <div class="form-group col-md-3">
            <div class="col-sm-12 pt-4">
              <div class="form-check form-switch">
                <input class="form-check-input" formControlName="skip" type="checkbox" id="skip">
                <label class="form-check-label" for="enabled">
                  {{'PRIVILEGY_FORM.SKIP'|translate}}
                </label>
              </div>
            </div>
          </div> -->
          <div class="form-group col-md-3">
            <div class="col-sm-12 pt-4">
              <div class="form-check form-switch">
                <input class="form-check-input" formControlName="enabled" type="checkbox" id="enabled">
                <label class="form-check-label" for="enabled">
                  {{'PRIVILEGY_FORM.ACTIVE'|translate}}
                </label>
              </div>
            </div>
          </div>


          <!-- <div class="form-group col-md-3">
            <label>{{ 'PRIVILEGY_FORM.ORDER' | translate }}</label>
            <input type="number" class="form-control" formControlName="order" matInput
              placeholder="{{ 'PRIVILEGY_FORM.ORDER' | translate }}" required />
            <div class="invalid-feedback">
              {{ 'PRIVILEGY_FORM.ORDER_REQUIRED' | translate }}
            </div>
          </div> -->

        </div>
        <hr>
        <div class="col-12 row text-start">

          <div class="col-md-3">
            <label>{{'PRIVILEGY_FORM.CREATE_AT'|translate}}</label>
            <h2><span class="form-control badge bg-secondary">{{ privilegyInfoForm.get('createAt')?.value |
                localizedDate:'medium' }}</span></h2>
          </div>
          <div class="form-group col-md-3 ">
            <label>{{'PRIVILEGY_FORM.LAST_MODIF'|translate}}</label>
            <h2><span class="form-control badge bg-secondary">{{privilegyInfoForm!.get('lastModif')?.value |
                localizedDate:'medium' }}</span></h2>
          </div>

          <div class="col-md-3">
            <label>{{'PRIVILEGY_FORM.CREATE_AT_PRIVILEGY'|translate}}</label>
            <h2><span class="form-control badge bg-secondary">{{ privilegyInfoForm.get('createUser')?.value }}</span></h2>
          </div>
          <div class="form-group col-md-3 ">
            <label>{{'PRIVILEGY_FORM.LAST_MODIF_PRIVILEGY'|translate}}</label>
            <h2><span class="form-control badge bg-secondary">{{privilegyInfoForm!.get('lastModifUser')?.value }}</span>
            </h2>
          </div>
        </div>
        <hr>
        &nbsp;
        <mat-card-actions align="end">
          <button mat-button routerLink="../" type="button"
            style="color: white;">{{'PRIVILEGY_FORM.RETURN'|translate}}</button>
          <button mat-button style="color: white;" type="submit">{{'PRIVILEGY_FORM.SUBMIT'|
            translate}}</button>
        </mat-card-actions>
      </form>
      <app-messages-modal type="{{type}}" messsage="{{message | translate}}"
        (closeAction)="closeAction()"></app-messages-modal>
    </mat-expansion-panel>
  </mat-accordion>

</div>